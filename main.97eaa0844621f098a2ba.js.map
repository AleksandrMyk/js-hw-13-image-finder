{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./js/app.js","webpack:///./js/basicLightbox.js","webpack:///./templates/items.hbs"],"names":["page","query","key","image_type","requestImages","params","this","fetch","then","response","json","data","incrementPage","hits","catch","error","console","warn","string","resetPage","refs","searchForm","document","querySelector","button","modal","insertListItems","images","markup","items","insertAdjacentHTML","addEventListener","e","preventDefault","apiService","input","currentTarget","elements","innerHTML","searchQuery","value","style","display","img","target","nodeName","basicLightbox","show","imgLightBox","getSrcAttribut","dataset","source","setAttribute","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"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","file":"main.97eaa0844621f098a2ba.js","sourcesContent":["const baseUrl = 'https://pixabay.com/api/';\r\nexport default {\r\n  page: 1,\r\n  query: '',\r\n  key: '16836748-77bdb9d8e6a7ff11ccb0a1780',\r\n  image_type: 'photo',\r\n  requestImages() {\r\n    const params = `?image_type=photo&orientation=horizontal&q=${this.query}&page=${this.page}&per_page=10&key=${this.key}`;\r\n    return fetch(baseUrl + params)\r\n      .then(response => response.json())\r\n      .then(data => {\r\n        this.incrementPage();\r\n        return data.hits;\r\n      })\r\n      .catch(error => console.warn(error));\r\n  },\r\n\r\n  get searchQuery() {\r\n    return this.query;\r\n  },\r\n  set searchQuery(string) {\r\n    this.query = string;\r\n  },\r\n  incrementPage() {\r\n    this.page += 1;\r\n  },\r\n  resetPage() {\r\n    this.page = 1;\r\n  },\r\n};","import apiService from'./apiService.js';\r\nimport items from '../templates/items.hbs';\r\nimport handleOriginalImage from './basicLightbox';\r\n\r\nconst refs = {\r\n  searchForm: document.querySelector('#search-form'),\r\n  button: document.querySelector('button[data-action=\"load-more\"]'),\r\n  modal: document.querySelector('#gallery')\r\n}\r\nrefs.searchForm.addEventListener('submit', searchFormSubmitHandler);\r\nrefs.button.addEventListener('click', loadMoreBtnHandler);\r\nrefs.modal.addEventListener('click', handleOriginalImage);\r\n\r\nfunction searchFormSubmitHandler(e) {\r\n  e.preventDefault();\r\n\r\n  apiService.page;\r\n\r\n  const form = e.currentTarget;\r\n  const input = form.elements.query;\r\n\r\n  clearListItems();\r\n\r\n  apiService.resetPage();\r\n  apiService.searchQuery = input.value;\r\n  requestImagesApi();\r\n\r\n  input.value = '';\r\n}\r\n\r\nfunction requestImagesApi() {\r\n  apiService\r\n    .requestImages()\r\n    .then(images => {\r\n      insertListItems(images);\r\n      const displayBlock = refs.button.style.display = 'block';\r\n      if (apiService.page > 1) {\r\n        displayBlock;\r\n      } else {refs.button.style.display = 'none';}\r\n    })\r\n    .catch(error => console.warn(error))\r\n};\r\n\r\nfunction insertListItems(images) {\r\n  const markup = items(images);\r\n\r\n  refs.modal.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nfunction clearListItems() {\r\n  refs.modal.innerHTML = '';\r\n}\r\n\r\nfunction loadMoreBtnHandler() {\r\n    apiService\r\n    .requestImages()\r\n    .then(images => {\r\n      insertListItems(images);\r\n    });\r\n}\r\n ","import * as basicLightbox from 'basiclightbox';\r\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\r\n\r\nexport default function handleOriginalImage(e) {\r\n\tlet img = e.target;\r\n\tif (e.target.nodeName !== 'IMG') {\r\n\t\treturn;\r\n\t}\r\n\tbasicLightbox\r\n\t.create(`<img class=\"lightbox-img\" src=\"\">`)\r\n\t.show(() => {\r\n\t\tconst imgLightBox = document.querySelector('.lightbox-img');\r\n\t\tconst getSrcAttribut = img.dataset.source;\r\n\t\timgLightBox.setAttribute(\"src\", getSrcAttribut);\r\n\t});\r\n} \r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"list-items\\\">\\r\\n\t<div class=\\\"photo-card\\\">\\r\\n\t\t<img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":12},\"end\":{\"line\":4,\"column\":28}}}) : helper)))\n    + \"\\\" id=\\\"gallery_image\\\" data-source=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":62},\"end\":{\"line\":4,\"column\":79}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":86},\"end\":{\"line\":4,\"column\":94}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n\t\t<div class=\\\"stats\\\">\\r\\n\t\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t\t<i class=\\\"material-icons\\\">thumb_up</i>\\r\\n\t\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":4},\"end\":{\"line\":9,\"column\":13}}}) : helper)))\n    + \"\\r\\n\t\t\t</p>\\r\\n\t\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t\t<i class=\\\"material-icons\\\">visibility</i>\\r\\n\t\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":4},\"end\":{\"line\":13,\"column\":13}}}) : helper)))\n    + \"\\r\\n\t\t\t</p>\\r\\n\t\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t\t<i class=\\\"material-icons\\\">comment</i>\\r\\n\t\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":4},\"end\":{\"line\":17,\"column\":16}}}) : helper)))\n    + \"\\r\\n\t\t\t</p>\\r\\n\t\t\t<p class=\\\"stats-item\\\">\\r\\n\t\t\t\t<i class=\\\"material-icons\\\">cloud_download</i>\\r\\n\t\t\t\t\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":4},\"end\":{\"line\":21,\"column\":17}}}) : helper)))\n    + \"\\r\\n\t\t\t</p>\\r\\n\t\t</div>\\r\\n\t</div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}